# âš¡ ZEUSNET: Wiâ€‘Fi Recon & Pentest Intelligence Node

**Hybrid ESP32 + PC Tactical Framework for Cyberâ€‘Network Diagnostics**

> ZeusNet is an advanced, modular Wiâ€‘Fi surveillance and penetration testing suite. Powered by a USBâ€‘tethered ESP32 and a highâ€‘performance PC (RTX2080 Super + i7â€‘11700KF), it merges realâ€‘time signal analytics, device tracking, and AIâ€‘powered anomaly detection into a single unified toolkit.

## ðŸ”§ Features

| Feature                      | Description                                      |
|-----------------------------|--------------------------------------------------|
| ðŸŒ Captive Portal trap       | ESP32-hosted login splash for phishing emulation |
| ðŸ“¡ MAC-based device tracking | Tracks known devices across time/geolocation     |
| ðŸ§  AI anomaly detection      | Predicts unusual signal behavior with LSTM       |
| ðŸ•µï¸ Rogue AP detection       | Flags SSID duplicates with different BSSIDs      |
| ðŸ“ Auto backups              | Daily JSON/CSV dump of scan logs                 |
| ðŸ“Š Export to CSV/Excel       | Export tables directly from the GTK UI             |
| ðŸ”¥ Deauth & AP cloning       | Enabled via TLâ€‘WN722N NIC in aggressive mode     |
| ðŸ§ª TLâ€‘WN722N automation      | Controlled packet injection, handshake captures  |
| ðŸ—ºï¸ Heatmap dashboard         | Leaflet-powered map view in GTK UI |
| ðŸŽ›ï¸ In-app pentest controls  | Toggle mode and launch attacks via UI |
| ðŸ“œ Advanced network list     | Filter scans by SSID or auth mode |
| ðŸ“ˆ Signal charts             | Top RSSI graph in Dashboard tab |

## ðŸ§  Architecture

```text
ESP32 (Spectral Scanner / Captive Portal)
  â®• USB Serial
      â®• FastAPI WarCore (Python 3.10+, PyTorch, Scapy, SQLite)
        â®• MQTT / WebSocket Bus
          â®• GTK Frontend + Dashboards
          â®• Optional: TL-WN722N (Monitor / Injection)
````

## ðŸš€ Quick Start

### Backend (FastAPI)

```bash
cd backend
python -m venv .venv && source .venv/bin/activate
pip install -r requirements.txt
uvicorn main:app --reload
# Tables are created automatically on first run
```

### Frontend (GTK)

```bash
python frontend/main.py
```

### Web UI (React)

```bash
cd webui
npm install
npm run dev
```

### Cross-Platform Docker MQTT

To avoid installing Mosquitto manually, run it via Docker:

```bash
docker compose up -d mqtt
```

Then launch everything with `start-zeusnet.sh` (or `.bat` on Windows). See
`docs/setup.md` for full setup instructions.

### GTK Desktop UI

For a native desktop view with tabs for networks, dashboards and map,
run the GTK app:

```bash
python frontend/main.py
```

This requires the `PyGObject` package built with GTK **4**.
If upgrading from an older GTK 3 build, remove any references to
`Gtk.ApplicationFlags.DEFAULT_FLAGS` or other deprecated APIsâ€”GTK 4
no longer exposes these constants.
The window now shows a network table with filters, attack panel, a
dashboard graph of top RSSI values and a heatmap tab. Controls let you
change scan interval, toggle scanning, switch modes or select the serial
port. A status bar reports the last successful update or any errors.

### Auto Start with systemd (Linux)

For persistent operation, install the provided service file:

```bash
sudo cp systemd/zeusnet-serial.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable zeusnet-serial
sudo systemctl start zeusnet-serial
```

The service uses a cached serial port stored under `~/.config/zeusnet/last_serial`.
### Flash ESP32

```bash
arduino-cli compile -b esp32:esp32:esp32 esp32/zeusnet_esp32.ino
arduino-cli upload -p /dev/ttyUSB0 -b esp32:esp32:esp32
```

## ðŸ§¬ Serial Command Reference

| Code   | Direction | Purpose                        |
| ------ | --------- | ------------------------------ |
| `0x01` | PC â†’ ESP  | Set config (interval, channel) |
| `0x02` | PC â†’ ESP  | Switch to fake AP mode         |
| `0x10` | ESP â†’ PC  | Send scan list (SSID/RSSI)     |
| `0x12` | ESP â†’ PC  | Captive form POST              |
| `0x20` | PC â†’ ESP  | Reboot ESP32                   |

## ðŸ“‚ Folder Structure

```bash
ZeusNet/
â”œâ”€â”€ esp32/                # ESP32 .ino sketches
â”œâ”€â”€ backend/              # FastAPI core
â”‚   â”œâ”€â”€ api/              # Scan, device, export endpoints
â”‚   â”œâ”€â”€ alerts/           # Anomaly detection, MAC tracker
â”‚   â””â”€â”€ c2/               # Command bus
â”œâ”€â”€ frontend/             # GTK UI
â”‚   â””â”€â”€ main.py          # Desktop application
â”œâ”€â”€ webui/                # React web interface
```

## âš ï¸ Mode Switching

Copy `.env.example` to `.env` to toggle behavior:

```env
ZEUSNET_MODE=SAFE
# Change to AGGRESSIVE to unlock full pentest features
```

> **SAFE Mode** disables any packet injection or spoofing.
> **AGGRESSIVE Mode** activates deauth, rogue AP, and swarm tactics (for legal use only).

### Environment Variables

| Variable      | Purpose                                | Default |
|---------------|----------------------------------------|---------|
| `RETRY_LIMIT` | Serial read errors before reconnecting | `3`     |

Call `GET /api/settings` to view current mode and serial configuration. Use
`POST /api/settings` with `{"mode": "AGGRESSIVE"}` to switch modes at runtime.

## ðŸ›°ï¸ TL-WN722N Tools

| Tool                | Role                         |
| ------------------- | ---------------------------- |
| `aircrack-ng`       | Handshake harvesting         |
| `hostapd + dnsmasq` | Rogue AP with captive portal |
| `hcxtools`          | PMKID capture                |
| `Scapy`             | Frame injection engine       |

Use via API call:

```http
POST /api/nic/attack
{
  "mode": "deauth",
  "target": "AA:BB:CC:DD:EE:FF",
  "channel": 6
}
```
Additional modes such as `survey` and `jam` provide blueâ€‘team defensive actions.

## ðŸ—ƒï¸ Backup Job (Linux crontab)

```cron
0 3 * * * /usr/bin/python3 /srv/zeusnet/backend/export/backup.py
```

Creates daily backup in `/backups/net_scan_YYYYMMDD.csv.gz`

## ðŸ§™ AI Model (Optional)

Phase 2+ enables LSTM anomaly detection on RSSI trends.

```python
from torch import nn
class RSSIPredictor(nn.Module):
    ...
```

Flags dropouts, rogue clones, new MACs. Run on GPU if available.

## ðŸ“œ License

MIT for tools. Aggressive modules must comply with **your local laws**. This tool is for **education and authorized testing** only.

> "Observe silently. Analyze ruthlessly. Dominate ethically."
> â€” *ZeusNet WarCore, Operational Directive*

